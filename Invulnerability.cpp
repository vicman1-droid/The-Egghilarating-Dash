#include "Invulnerability.h"

#include <thread>
#include <chrono>


Invulnerability::Invulnerability(const BackBuffer* pBackBuffer, int& x)
{
	m_pSprite = new Sprite("data/shield.bmp", RGB(184, 61, 186));
	m_pSprite->setBackBuffer(pBackBuffer);

	this->x = &x;
}

void Invulnerability::doEvent()
{
	*x = 1;

}

bool Invulnerability::amIColliding(Sprite* otherSprite)
{
	if (this->m_pSprite->mPosition.x + this->m_pSprite->width() >= otherSprite->mPosition.x &&
		this->m_pSprite->mPosition.x <= otherSprite->width() + otherSprite->mPosition.x &&
		this->m_pSprite->mPosition.y + this->m_pSprite->height() >= otherSprite->mPosition.y &&
		this->m_pSprite->mPosition.y <= otherSprite->height() + otherSprite->mPosition.y)
	{
		return true;
	}
	else return false;
}

void Invulnerability::Draw()
{
	m_pSprite->draw();
}

Vec2& Invulnerability::Position()
{
	return m_pSprite->mPosition;
}
